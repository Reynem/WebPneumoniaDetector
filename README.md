## Предисловие

Этот репозиторий содержит код для использования нейронной сети на веб-сайте с целью анализа изображений легких человека на наличие пневмонии, загружаемых пользователем. Нейронная сеть была сделана с помощью Teachable Machine, однако вместо использования вебки, пользователи могут выбрать изображение с их устройства, которое будет отправлено на анализ нейронной сети.  

Создатель нейронной сети - Главный командир группы Телепузиков(Telepuziki).  

Старался сделать код как можно более читабельным, так что советую хотя бы глянуть, если вы не посмотрите, то к вам ночью придет Дипси и покажет вам все 365 серии телепузиков!

## Как оно работает

Для реализации этой функциональности были выполнены следующие шаги:

1. **Очистка кода с веб камерой**:

   Изначально в коде был предназначен для работы с веб-камерой. Для работы нейронки с загружаемыми изображениями я удалил данный код.

2. **Создание функции `submitImage()`**:

   Была создана функция `submitImage()`, которая вызывается при отправке изображения с помощью формы на веб-сайте. Эта функция выполняет следующие действия:

   - Получает выбранное пользователем изображение.
   - Загружает изображение и передает его в функцию предсказания.
   
   Код новосозданной функции субмитИмаге:
   ```javascript
   function submitImage() {
       const fileInput = document.getElementById('file-input');
       if (fileInput.files.length > 0) {
           const file = fileInput.files[0];
           const reader = new FileReader();
           reader.onload = async function () {
               const img = new Image();
               img.onload = async function () {
                   await predict(img);
               };
               img.src = reader.result;
           };
           reader.readAsDataURL(file);
       }
   }
   ```  
  ### Пояснение:  
  
  Читаем изображения с помощью FileReader`а, создаем элемент img для загрузки изображения и вызываем функцию predict() для предсказывания на загруженном изображении

3. **Обновление функции `predict()`**:

   Функция `predict()` используется для предсказания классов на переданном изображении. Результаты предсказания отображаются выше послания от телепузиков.

   Вот сама функция:
   ```javascript
   async function predict(imageElement) {
       const prediction = await model.predict(imageElement);
       const resultElement = document.getElementById('result');
       resultElement.innerHTML = '';
       for (let i = 0; i < maxPredictions; i++) {
           const classPrediction =
               prediction[i].className + ": " + prediction[i].probability.toFixed(2);
           const div = document.createElement('div');
           div.textContent = classPrediction;
           resultElement.appendChild(div);
       }
   }
   ```

## Пример использования

Все что вам нужно сделать - открыть файл index.html и все заработает!

## Статус проекта

Этот проект находится в стадии разработки и может быть доработан.

---
